var amd_ww=function(){"use strict";var n,e,r,t,o;return n={},n.startWorkers=function(n){return e(t)(n)},r=function(n){return console.error("Worker error: "+n+"\nTo display more information for any function type <func_name> instead of <func_name>()")},e=function(n){return function(){var e;try{e=n.apply(null,arguments)}catch(t){r(t)}return e}},t=function(n){var e,t,i,u;if(n=n||void 0,!n)throw"Must define start_obj with at least the workers file.";if(e=void 0!==n.callback?n.callback:function(){},t=n.onError||r,r=t,u=void 0!==n.num_workers?n.num_workers:4,u*=1,i=n.filename,!window.Worker)throw"Workers are not available in this browser.";if(isNaN(u)||u!==parseInt(u,10))throw"num_workers must be an integer";if("function"!=typeof e)throw"callback must be a function";if("function"!=typeof t)throw"onError must be a function";if("string"!=typeof i||!i.match(/\.js$/))throw"Must pass in a filename as a string for worker functionality";return o(n)},o=function(n){var r,t,o,i,u,a,f,c,s,l,m,v;return r=[],l=[],t=Object.create(Promise),f=[],o=!1,t.clear=function(){var n;return delete t.submit,delete t.all,delete t.clear,delete t.pause,delete t.resume,delete t.race,delete t.resolve,delete t.reject,i().then(function(e){for(n=0;n<f.length;n+=1)void 0!==f[n]&&(f[n][0].terminate(),f[n]=void 0);return delete t.submit,e})},t.submit=function(n){return e(a)(n)},t.pause=function(){var n=[];return t.submit=function(e){var r;return r=v(n,e),l.push(r),r},m=t.all().then(function(e){return o=!0,r=r.concat(n),t.submit=a,e})},t.resume=function(){return m.then(function(n){return o=!1,c(),n}),m},t.all=function(n){return e(i)(n)},t.race=function(n){var e;return e=Promise.all(n&&n.length>0?n:l)},i=function(n){var e;return e=Promise.all(n&&n.length>0?n:l)},u=function(n){var e,t,i,a,c;return c=f[n][0],f[n][1]=!0,o?void(f[n][1]=!1):r.length>0?(i=r.shift(),a=i[0],e=i[1],t=i[2],void c(a).then(function(n){e(n)},function(n){t(n)}).then(function(){u(n)})):void(f[n][1]=!1)},a=function(n){var e;return e=v(r,n),l.push(e.catch(function(n){return void console.error(n)})),e},c=function(){var n;for(n=0;n<f.length;n+=1)if(!f[n][1]){u(n);break}},v=function(n,e){return new Promise(function(r,t){n.push([e,r,t]),c()})},s=function(n){var e,r;return e=new Worker(n),r=function(n){return new Promise(function(r,t){e.onmessage=function(n){r(n.data)},e.onerror=function(n){t("ERROR: Line "+n.lineno+" in "+n.filename+": "+n.message)},e.postMessage("object"==typeof n?JSON.parse(JSON.stringify(n)):n)})},r.terminate=function(){e.terminate()},r},function(){var e,r,t;for(r=void 0!==n.num_workers?n.num_workers:4,r*=1,e=n.filename,t=0;r>t;t+=1)f[t]=[s(e),!1]}(),t},n}();